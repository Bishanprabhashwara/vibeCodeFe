(()=>{var e={};e.id=110,e.ids=[110],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},9720:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=r(3003),t=r(4293),l=r(6550),n=r.n(l),d=r(6979),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(s,i);let o=["",{children:["users",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7120)),"C:\\Users\\BishanPrabhashwara\\Desktop\\vibe\\frontend\\src\\app\\users\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7973)),"C:\\Users\\BishanPrabhashwara\\Desktop\\vibe\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2075,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\BishanPrabhashwara\\Desktop\\vibe\\frontend\\src\\app\\users\\new\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/users/new/page",pathname:"/users/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3390:(e,s,r)=>{Promise.resolve().then(r.bind(r,77))},77:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var a=r(8819),t=r(7266),l=r(5047),n=r(434),d=r(7019),i=r(6608);function o(){return(0,a.jsx)(i.i,{requiredRole:"admin",children:(0,a.jsx)(c,{})})}function c(){let e=(0,l.useRouter)(),[s,r]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",role:"student"}),[i,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),x=e=>{r({...s,[e.target.name]:e.target.value}),u("")},p=async r=>{if(r.preventDefault(),o(!0),u(""),h(""),s.password!==s.confirmPassword){u("Passwords do not match"),o(!1);return}if(s.password.length<6){u("Password must be at least 6 characters long"),o(!1);return}try{let r=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000",a=localStorage.getItem("auth_token"),t=await fetch(`${r}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:s.name,email:s.email,password:s.password,role:s.role})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create user")}h("User created successfully!"),setTimeout(()=>{e.push("/users")},2e3)}catch(e){u(e instanceof Error?e.message:"Failed to create user")}finally{o(!1)}};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,a.jsxs)(n.default,{href:"/users",className:"btn-ghost btn-sm",children:[(0,a.jsx)(d.PJ.chevronLeft,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New User"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Create a new user account for the LMS"})]}),c&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("div",{className:"text-sm text-red-700",children:c})}),m&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md",children:(0,a.jsx)("div",{className:"text-sm text-green-700",children:m})}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Enter full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Enter email address"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role *"}),(0,a.jsxs)("select",{id:"role",name:"role",value:s.role,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"student",children:"Student"}),(0,a.jsx)("option",{value:"faculty",children:"Faculty"}),(0,a.jsx)("option",{value:"admin",children:"Administrator"})]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Select the appropriate role for this user"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",value:s.password,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Enter password",minLength:6}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters long"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password *"}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Confirm password",minLength:6})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"* Required fields"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(n.default,{href:"/users",className:"btn-ghost",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:i,className:"btn",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.PJ.plus,{className:"h-4 w-4 mr-2"}),"Create User"]})})]})]})})]})}),(0,a.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.PJ.info,{className:"h-5 w-5 text-blue-400 mr-3 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"User Creation Guidelines"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-blue-700",children:(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,a.jsx)("li",{children:"Email addresses must be unique across the system"}),(0,a.jsx)("li",{children:"Users will receive login credentials via email (if configured)"}),(0,a.jsx)("li",{children:"Default passwords should be changed on first login"}),(0,a.jsx)("li",{children:"Admin users have full system access"}),(0,a.jsx)("li",{children:"Faculty users can manage courses and students"}),(0,a.jsx)("li",{children:"Student users have limited access to enrolled courses"})]})})]})]})})]})}},6608:(e,s,r)=>{"use strict";r.d(s,{i:()=>n});var a=r(8819),t=r(8313),l=r(5047);function n({children:e,requiredRole:s,redirectTo:r="/auth/login"}){let{user:n,loading:d}=(0,t.a)();if((0,l.useRouter)(),d)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!n)return null;if(s){let e={student:0,faculty:1,admin:2};if(e[n.role]<e[s])return null}return(0,a.jsx)(a.Fragment,{children:e})}r(7266)},7120:(e,s,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(s),r.d(s,{default:()=>e});var t=r(1851);let e=(await (0,t.createProxy)(String.raw`C:\Users\BishanPrabhashwara\Desktop\vibe\frontend\src\app\users\new\page.tsx`)).default;a()}catch(e){a(e)}},1)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[553,945],()=>r(9720));module.exports=a})();